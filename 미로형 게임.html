<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>미로형 게임</title>
<style>
*{margin:0px;}
#stage{
	width:100%;
	height:700px;
	background:yellow;
}
</style>
<script src="./GameObject.js"></script>
<script src="./Block.js"></script>
<script src="./Hero.js"></script>
<script>
var stage;
var hero;

function init(){
	stage=document.getElementById("stage");
	createHero();
	addEventListener("mousedown", function(){
		createBlock( event.clientX , event.clientY);	
	});
	gameLoop();
}
//주인공 생성
function createHero(){
	hero = new Hero(stage,50,50,45,100,0,0,0, 0,"blue","");
}

//마우스의 좌표에 생성되게 하자!!
function createBlock(mx,my){
	var block=new Block(stage,mx,my,45,45,0,0,0, 0,"","../res/block.png");
}
function joystick(){
	var key=event.keyCode;

	switch(key){
		case 37:hero.velX=-5;break;	//좌
		case 39:hero.velX=5;break;	//우
		case 38:hero.velY=-5;break;	//위
		case 40:hero.velY=5;break;	//아래
	}
}
function stop(){
	hero.velX=0;
	hero.velY=0;
}

addEventListener("load", function(){
	init();
});

function gameLoop(){
	hero.tick();
	hero.render();
	setTimeout("gameLoop()");
}
</script>
</head>
<body onKeyDown="joystick()" onKeyUp="stop()">
	<div id="stage"></div>
</body>
</html>
